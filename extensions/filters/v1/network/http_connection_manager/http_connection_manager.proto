syntax = "proto3";

package extensions.filters.network.http_connection_manager.v1;

import "google/protobuf/any.proto";
import "google/protobuf/duration.proto";
import "google/protobuf/wrappers.proto";
import "core/v1/base.proto";
import "core/v1/config_source.proto";
import "route/v1/route.proto";

option go_package = "github.com/dubbo-kubernetes/xds-api/extensions/filters/network/http_connection_manager/v1;http_connection_managerv1";

message HttpConnectionManager {

  enum CodecType {
    AUTO = 0;
  }

  CodecType codec_type = 1;
  string stat_prefix = 2;

  oneof route_specifier {
    Rds rds = 3;
    route.v1.RouteConfiguration route_config = 4;
  }

  repeated HttpFilter http_filters = 5;
}

message Rds {
  core.v1.ConfigSource config_source = 1;
  string route_config_name = 2;
}

message HttpFilter {
  string name = 1;

  oneof config_type {
    google.protobuf.Any typed_config = 4;
  }
}
